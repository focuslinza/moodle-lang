<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Moodle Dokumentation: Upgrade</title>
<link rel="stylesheet" href="docstyles.css" type="TEXT/CSS">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
<h1>Moodle Upgrade</h1>
<p>Moodle ist so konzipiert, dass man problemlos von einer
fr&uuml;heren Version auf eine aktuellere Version 'upgraden'
kann.</p>
<p>Um ein Upgrade einer Moodle-Installation durchzuf&uuml;hren,
sollte man folgende Schritte durchf&uuml;hren:</p>
<h3 class="sectionheading">1. Datensicherung wichtiger Daten durchf&uuml;hren</h3>
<blockquote>
<p>Auch wenn es nicht unbedingt notwendig ist, ist es immer eine
gute Idee, eine Datensicherung von einem System zu machen, bevor
man ein Upgrade durchf&uuml;hrt, nur f&uuml;r den Fall, dass man
aus irgendeinem Grund zu einer &auml;lteren Version
zur&uuml;ckkehren m&ouml;chte. Tats&auml;chlich ist es sinnvoll,
den Server so zu automatisieren, dass er t&auml;glich eine
Datensicherung der Moodle-Installation durchf&uuml;hrt. Dann kann
man diesen Schritt auslassen.</p>
<p>Es gibt drei Gebiete, die man sichern sollte:</p>
<blockquote>
<p><strong>1. Das Moodle Softwareverzeichnis</strong></p>
<blockquote>
<p>Machen Sie vor dem Upgrade eine separate Kopie von diesen Dateien,
so dass Sie die Datei config.php und andere Module, die 
hinzugef&uuml;gt wurden, wie Themen, Sprachen usw. abrufen
können.</p>
</blockquote>
<p><strong>2. Das Datenverzeichnis.</strong></p>
<blockquote>
<p>Hier befinden sich hochgeladene Dateien (Kursverzeichnisse, die Kurs-Inhalte und Teilnehmerarbeiten). Diese Daten sollten in jedem Fall regelmäßig gesichert werden. Manchmal k&ouml;nnen Upgrades Verzeichnisse des Datenverzeichnisses verschieben oder umbenennen.</p>
</blockquote>
<p><strong>3. Die Datenbank</strong></p>
<blockquote>
<p>Die meisten Moodleupgrades werden die Datenbanktabellen
&auml;ndern, indem Felder hinzugef&uuml;gt oder ver&auml;ndert
werden. Jede Datenbank hat unterschiedliche Methoden f&uuml;r
eine Datensicherung. Ein Weg, eine MySQL-Datenbank zu sichern,
ist, sie in eine einzelne SQL-Datei zu 'dumpen'. Das folgende
Beispiel zeigt den Befehl (Unix und Windows), um die Datenbank
"moodle" in die Datei moodle-backup-2002-10-26.sql zu dumpen.</p>
<blockquote>
<p><font face="Courier New, Courier, mono">mysqldump moodle &gt;
moodle-backup-2002-10-26.sql</font></p>
</blockquote>
<p>Sie können ebenfalls das "Export"-Werkzeug in Moodles
"Datenbank verwalten" Web-Interface nutzen (Zusatztool), um diesen Vorgang
f&uuml;r alle Plattformen durchzuf&uuml;hren.</p>
<p> </p>
</blockquote>
</blockquote>
</blockquote>
<h3 class="sectionheading">2. Installieren der neuen Moodle-Software</h3>
<blockquote>
<p><strong>Mit einem heruntergeladenen Archiv</strong></p>
<blockquote>
<p>&Uuml;berschreiben Sie nicht die alte Installation, es sei denn, Sie wissen genau, was Sie tun
... Manchmal k&ouml;nnen alte Dateien
Probleme in der neuen Installation bewirken. Der beste Weg ist
es, das aktuelle Moodle-Verzeichnis umzubenennen, und dann das
neue Moodle-Archiv an die alte Stelle zu entpacken.</p>
<blockquote>
<p><font face="Courier New, Courier, mono">mv moodle
moodle.backup<br>
tar xvzf moodle-1.0.6.tgz</font></p>
</blockquote>
<p>Als n&auml;chstes kopieren Sie die config.php-Datei und alle anderen
pers&ouml;nlichen Module und Themes her&uuml;ber.</p>
<blockquote>
<p><font face="Courier New, Courier, mono">cp
moodle.backup/config.php moodle<br>
cp -pr moodle.backup/theme/mytheme
moodle/theme/mytheme</font></p>
</blockquote>
</blockquote>
<p><strong>Mit CVS</strong></p>
<blockquote>
<p>Falls Sie das CVS benutzt, gehen Sie nur in das Moodle Wurzelvezeichnis
und f&uuml;hre ein Update durch:</p>
<blockquote>
<p><font face="Courier New, Courier, mono">cvs update
-dP</font></p>
</blockquote>
<p>Prüfen Sie, dass Sie den "d"-Parameter nutzt, um neue
Verzeichnisse zu erstellen und den "P"-Parameter, um leere
Verzeichnisse zu entfernen.</p>
<p>Sollten Sie Moodle-Dateien editiert haben, achten Sie 
sorgf&auml;ltig auf die Mitteilungen wegen m&ouml;glicher
Konflikte. All individuellen Themes und zus&auml;tzlichen
Inhalte bleiben unber&uuml;hrt.</p>
<p> </p>
</blockquote>
</blockquote>
<h3 class="sectionheading">3. Fertigstellen des Upgrades</h3>
<blockquote>
<p>Der letzte Schritt ist, den Upgradeprozess innerhalb von
Moodle auszul&ouml;sen.</p>
<p>Um das zu tun, rufen Sie nur <a href="../admin/index.php">die
admin Seite der Installation auf </a>.</p>
<blockquote>
<p><font face=
"Courier New, Courier, mono">http://example.com/moodle/admin</font></p>
</blockquote>
<p>Es ist nicht wichtig, ob Sie als admin angemeldet sind.</p>
<p>Moodle wird automatisch die neue Version entdecken und alle
Datenbank- oder Dateisystemanpassungen durchf&uuml;hren, die
notwendig sind. Sollte es irgendetwas geben, das nicht
automatisch durchgef&uuml;hrt werden kann (sehr selten), dann
erhalten Sie Mitteilungen sehen, die beschreiben, was zu tun
ist.</p>
</blockquote>
<p>Angenommen, alles geht gut (keine Fehlermeldungen), kann die
neue Moodleversion sofort genutzt werden.</p>
<p>Falls Probleme mit dem Upgrade auftreten, besuchen Sie <a href=
"www.moodle.org">moodle.org</a> und posten Sie das Problem <a target="_top"
href="http://moodle.org/mod/forum/view.php?id=28">Installation
Support Forum</a> oder im deutschsparchigen Kursraum.</p>
<p> &nbsp;</p>
<p> &nbsp;</p>
<p align="center"><font size="1"><a href="." target="_top">Moodle Documentation</a></font></p>
<p align="center"><font size="1">Version: $Id$</font></p>

</body>
</html>