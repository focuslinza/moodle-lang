<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Moodle Dokumentation: Installation</title>
<link rel="stylesheet" href="docstyles.css" type=
"TEXT/CSS">
  <script language="JavaScript" type="text/javascript">
  <!-- //hide
  var themeCSS = "<?php echo "$CFG->wwwroot/theme/$CFG->theme" ?>";
  if (themeCSS.indexOf("CFG->wwwroot") != true) {
    document.write ("<link rel=\"stylesheet\" type=\"text/css\" href=\"" + themeCSS +"/styles.php\" />");
    document.write ("<link rel=\"stylesheet\" type=\"text/css\" href=\"" + themeCSS +"/docstyles.php\" />");
  }
  // done hiding -->
  </script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body bgcolor="#FFFFFF">
<h1>Moodle installieren</h1>
<blockquote>
<h2>Keine Panik! <img src="../pix/s/smiley.gif" /></h2>
<blockquote>
<p>Dieses Tutorial zeigt Ihnen, wie Sie Moodle zum ersten Mal installieren. An manchen Stellen geht es recht weit ins Detail, um auch die Server-Einstellungen zu erklären. Das erscheint mitunter etwas kompliziert, aber Sie werden sehr bald selber feststellen, dass alles wirklich einfach ist. In der Regel ist Moodle in ein paar Minuten fertig installiert.</p>
<p>Nehmen Sie sich ein wenig Zeit, diese Anleitung sorgfältig zu lesen - die wichtigsten Punkte werden hier angesprochen. Sollten Sie trotzdem Probleme bekommen, könnten Sie Hilfe auf der Internetseite <a target="_blank" href="http://moodle.org/help">Moodle Help</a> finden.</p>
<p>Eine weitere Möglichkeit wäre, den Kontakt zu einem Internet-Provider aufzunehmen, der Moodle vollständig für Sie wartet, ao dass Sie alle folgenden Punkte ignorieren können und sofort mit Ihrem Unterricht beginnen!</p>

<p><b>Abschnitte in diesem Dokument:</b></p>
<ol>
<li><a href="#requirements">Systemanforderungen</a></li>
<li><a href="#downloading">Download</a></li>
<li><a href="#site">Verzeichnisstruktur</a></li>
<li><a href="#installer">Installationsskript zur Erstellung der config.php-Datei</a><ul>
<li><a href="#webserver">Webserver-Einstellungen überprüfen</a></li>
<li><a href="#database">Datenbank erstellen</a></li>
<li><a href="#data">Datenverzeichnis erstellen</a></li>
</ul>

<li><a href="#admin">Administrationsseite starten</a></li>
<li><a href="#cron">Cron-Job einrichten</a></li>
<li><a href="#course">Neuen Kurs anlegen</a></li>
</ol>
<br />&nbsp;
</blockquote>

<h3><a name="requirements" id="requirements"></a>1.
Systemanforderungen</h3>
<blockquote>
<p>Moodle wurde in Linux entwickelt und nutzt PHP, Apache und MySQL (auch als LAMP-Plattform bezeichnet). Es wurde aber auch getestet mit PostgreSQL und auf den Betriebssystemen Windows XP, Mac OS X und Netware 6 .</p>
<p>Alles was Sie brauchen ist:</p>
<ol>
<li>Web Server Software - am häufigsten wird <a href="http://www.apache.org/" target="_blank">Apache</a> genutzt, aber Moodle sollte  auch unter jedem anderen Webserver laufen, der PHP unterstützt (wie z.B. IIS auf Windows-Servern).</li>
<li><a href="http://www.php.net/">PHP</a> Skript-Sprache (Version 4.3.0 oder jünger). PHP 5 wird seit der Version 1.4. von Moodle unterstützt.
<li>einen funktionierenden Datenbankserver: <a href="http://www.mysql.com/"> MySQL</a> oder <a href="http://www.postgresql.org/"> PostgreSQL</a> werden von vollständig unterstützt und für die Nutzung mit Moodle empfohlen. 
</ol>
 <p>Diese Voraussetzungen werden von den meisten Anbietern von Webservern ohne Probleme erfüllt. Sollten Sie jedoch mit einem der wenigen Anbieter zusammen arbeiten, der diese Optionen nicht anbietet, fragen Sie warum und wechseln Sie
ggfs. den Anbieter.</p>
<p>Falls Sie Moodle auf Ihrem eigenen Rechner betreiben wollen und Sie mit diesen Begriffen noch wenig anfangen können, dann finden Sie alle Informationen in unserem Leitfaden: <a href="http://moodle.org/doc/?file=installamp.html"> Installation von Apache, MySQL und PHP</a>. Er enthält einige Schritt- für- Schritt Anleitungen zur Installation auf den gängigsten Plattformen.</p>
</blockquote>
<p>&nbsp;</p>

<h3><a name="downloading" id="downloading"></a>2. Downloaden, entpacken und die Dateien an die richtige Stelle kopieren</h3>
<blockquote>
<p>Es gibt zwei Möglichkeiten, Moodle zu bekommen, als komprimiertes Paket oder über CVS. Detailerklärungen finden Sie auf der Downloadseite <a href=
"http://moodle.org/">http://moodle.org/</a></p>

<p>Nach dem Download und dem Entpacken des Archivs bzw. nach dem Auschecken der  Dateien über CVS werden Sie einen Dateiordner quot;moodle&quot; erhalten, der eine Reihe von Dateien und weiteren Ordnern enthält.</p>
<p>Entweder Sie kopieren den gesamten Ordner moodle in das Dokumentenverzeichnis Ihres Webservers und finden Moodle jetzt unter der Adresse <b>http://yourwebserver.com/moodle</b>. Oder Sie kopieren den gesamten Inhalt 
direkt in das Dokumentenverzeichnis (also ohne den äußeren Ordner moodle) und finden Moodle dann unter <b>http://yourwebserver.com</b>.</p>
 <p>Falls Sie Moodle auf Ihren lokalen Computer herunterladen und anschließend auf den Webserver hochladen, dann wäre es am besten, wenn Sie Moodle als  gepackte Datei auf den Server hochladen und erst dort entpacken. Web Hosting Interfaces wie Cpanel erlauben es Ihnen, gepackte Dateiarchive mit einem Dateimanager (file manager) auf dem Server zu entpacken. </p>  
</blockquote>
<p>&nbsp;</p>

<h3><a name="site" id="site"></a>3. Verzeichnisstruktur</h3>
<blockquote>
<p>Sie können diesen Abschnitt beruhigt überspringen ... aber Sie finden hier zu Ihrer Orientierung eine kurze Übersicht über den Inhalt des Moodle- Verzeichnisses:</p>
<blockquote>
<li>config.php - enthält die Grundeinstellungen.. Diese Datei kommt nicht zusammen mit Moodle - Sie erstellen sie jeweils selbst aus der Datei config-dist.php bzw. mit der automatischen Installationsroutine</li>
<li>install.php - erstellt automatisch die Datei config.php</li>
<li>version.php - beschreibt die gerade installierte Version von
Moodle</li>
<li>index.php - die Startseite von Moodle
<ul>
<li>admin/ - Code zur Verwaltung von Moodle</li>
<li>auth/ - Plugin-Module, um Anwender zu identifizieren</li>
<li>blocks/ - Plugin-Module für Blöcke auf den Kursseiten</li>
<li>calender/ - Code zum Verwalten und Anzeigen eines Kalenders
<li>course/ - Code zum Verwalten und Anzeigen der Kurse</li>
<li>doc/ - Hilfedateien für Moodle (z.B. auch diese Seite)</li>
<li>files/ - Code zum Anzeigen und Verwalten hochgeladener Dateien</li>
<!-- <li>lang/ - Texte in verschiedenen Sprachen</li> //-->
<li>lib/ - Bibliotheken mit dem Kern von Moodle</li>
<li>login/ - Code zum Steuern von Login und Profilerstellung</li>
<li>mod/ - alle wichtigen Moodle-Kursmodule liegen hier</li>
<li>pix/ - Grafische Gestaltung der Seiten</li>
<li>theme/ - Vorlagen für die optische Darstellung (Theme/Skin/Design)</li>
<li>user/ - Anzeige und Verwaltung von Benutzern</li>
</ul>
<p>&nbsp;</p>
</blockquote>
</blockquote>

<h3 class="sectionheading"><a name="installer"></a>4. Installationsskript zur Erstellung der config.php-Datei </h3>
<blockquote>
<p>Um das das Installationsskript (install.php) auszuführen, rufen Sie nur Ihre Moodle-Startseite mit dem Webbrowser auf. Sie können das Skript über <b>http://yourserver.de/install.php</b> auch direkt erreichen. </p>
<p>(Die Installationsroutine wird versuchen, ein Cookie (session cookie) zu setzen. Wenn Sie von Ihrem Browser einen Warnhinweis erhalten, müssen Sie das Cookie annehmen!) </p>
<p>Moodle erkennt, wenn eine Konfiguration erforderlich ist und führt Sie über mehrere Schritte durch die Erstellung der Konfigurationsdatei <b>config.php</b>. 	Am Ende versucht Moodle, die Datei an der richtigen Stelle abzuspeichern. Sollte dies nicht möglich sein, können Sie die Datei config.php herunterladen, abspeichern und manuell in das Hauptverzeichnis von Moodle auf dem Server kopieren.</p>
<p>Die Installationsroutine überprüft die Servereinstellungen und gibt bei Bedarf Empfehlungen zur Behebung von Problemen. In den meisten Fällen sollte alles reibungslos ablaufen. In den folgenden Abschnitten finden Sie einige Informationen, falls der Ablauf stockt. 
<br />&nbsp;</p>
</blockquote>
<blockquote>

<h3><a name="webserver" id="webserver"></a>4.1 Webserver-Einstellungen überprüfen</h3>
<blockquote>
<p>Erstens: stellen Sie bitte zunächst sicher, dass Ihr Webserver automatisch index.php als Standardseite aufruft (evtl. ergänzend zu index.html, default.htm etc).</p>
<p>In Apache erfolgt diese Einstellung in der Datei httpd.conf. Darin sollte z.B. folgender Text stehen:</p>
<blockquote><pre>
<b>DirectoryIndex</b> index.php index.html index.htm 
</pre></blockquote>
<p>In dieser Liste muss index.php aufgeführt sein, am besten steht es sogar ganz am Anfang der Liste.</p>

<p>Zweitens: <b>falls Sie Apache 2 verwenden</b>, dann sollte die Option <i>AcceptPathInfo</i> eingeschaltet sein. Sie läst Argumente wie http://server/file.php/arg1/arg2 zu. Dies ist wichtig, um relative Links zwischen Ressourcen zuzulassen und eine Leistungssteigerung zu ermöglichen. Sie können diese Option durch das Einfügen der der folgenden Zeile in die Datei httpd.conf file zulassen.</p>
<blockquote><pre>
<b>AcceptPathInfo</b> on 
</pre></blockquote>
		
<p>Drittens: Moodle erfordert einige PHP-Einstellungen, damit es arbeiten kann. <b>Meistens sind diese Forderungen bereits als Grundeinstellungen vorhanden.</b> Einige PHP-Server (besonders solche mit älteren Versionen) müssen entsprechend
eingestellt werden. Sie finden die Einstellungen in der PHP-Konfigurationsdatei (php.ini):</p>
<blockquote>
<pre>
magic_quotes_gpc = 1      (erwünscht, aber nicht erforderlich)
magic_quotes_runtime = 0  (erforderlich) 
file_uploads = 1
session.auto_start = 0
session.bug_compat_warn = 0
</pre></blockquote>
<p>Wenn Sie keinen Zugriff auf die Dateien httpd.conf oder php.ini auf Ihrem Webserver haben oder wenn andere Anwendungen davon abweichende Einstellungen erfordern, dann können sie die Einschreibungen überschreiben.</p>
<p>Erstellen Sie eine Datei mit Namen <b>.htaccess</b> im Hauptverzeichnis von Moodle mit der Definition der folgenden Einstellungen. Dies funktioniert jedoch nur beim Webserver Apache und auch nur dann, wenn die Option Overrides (Überschreiben) in der Konfiguration zugelassen wurde.
ist.</p>
<blockquote><pre>
DirectoryIndex index.php index.html index.htm

&lt;IfDefine APACHE2>
     <b>AcceptPathInfo</b> on
&lt;/IfDefine>

php_flag magic_quotes_gpc 1
php_flag magic_quotes_runtime 0
php_flag file_uploads 1
php_flag session.auto_start 0
php_flag session.bug_compat_warn 0
</pre></blockquote>
<p>Sie können nun auch die maximale Dateigröße festlegen, die hochgeladen werden darf:</p>
<blockquote><pre>
LimitRequestBody 0
php_value upload_max_filesize 2M
php_value post_max_size 2M
</pre></blockquote>
<p>Am einfachsten kopieren Sie die Beispieldatei aus <b>lib/htaccess</b> und bearbeiten Sie nach Ihren Vorstellungen. Sie finden dort weitere Informationen. Rufen Sie in der Unix Shell folgenden Befehl auf:</p>
<blockquote>
<pre>
cp lib/htaccess .htaccess
</pre></blockquote>
<p>&nbsp;</p>
</blockquote>

<h3><a name="database" id="database"></a>4.2 Datenbank erstellen</h3>
<blockquote>
<p>Erstellen Sie nun eine leere Datenbank (z.B. "moodle") in Ihrem Datenbanksystem mit einem speziellen Nutzer (z.B. "moodleuser"), der auf
diese Datenbank zugreifen darf (und zwar ausschließlich auf diese eine Datenbank). Sie können natürlich den Nutzer "root" verwenden, wenn Sie nur einen Test-Server installieren, aber auf keinen Fall für einen Online-Server. Richten Sie in jedem Falle ein Passwort ein, wenn Sie einen Online-Server nutzen, damit niemand anderer auf Ihre Datenbank zugreifen kann.</p>

<p>Wenn Sie einen gehosteten Server verwenden, haben Sie evtl. eine Oberfläche zur Einrichtung einer neuen Datenbank.</p>
<p>Das Systemprogramm <b>Cpanel</b> ist sehr verbreitet. In CPanel erstellen Sie mit den folgenden Schritten eine Datenbank, </p>
<ol>
<li>Klick auf das Symbol &quot;<b>MySQL Databases</b>&quot;.</li>
<li>Eingabe von  &quot;moodle&quot; in das Datenbankfeld und Klick auf &quot;<strong>Datenbank hinzufügen</strong>&quot;.</li>
<li> Nutzernamen und sicheres Passwort (kein Passwort, das Sie bereits an anderer Stelle verwenden!) in die entsprechenden Felder eingeben und Klick auf &quot;<strong>Nutzer hinzufügen</strong>&quot;.</li>
<li>Verwenden Sie jetzt die Taste &quot;<b>Nutzer zur Datenbank hinzufügen</b>&quot;, damit der neue Nutzer einen Datenbankzugriff und &quot;<b>ALLE</b>&quot; Rechte für die neue Datenbank erhält.</li>
<li>Nutzername und  Datenbankname könnten durch den Cpanel-Account bereits unveränderlich vorgegeben sein. Wenn Sie diese Daten bei der Moodle-Installation angeben - verwenden Sie bitte die vollständigen vorgegebenen Namen.</li>
</ol>
<br />&nbsp;

<p>Falls Sie Zugriff auf die Unix-Eingabezeile des Webservers haben, können Sie die gleichen Arbeiten auch damit durchführen.

Aufruf für MySQL unter Unix (Beispiel):</p>
<pre>
   # mysql -u root -p
   &gt; CREATE DATABASE moodle;
   &gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,INDEX,ALTER ON moodle.*
           TO moodleuser@localhost IDENTIFIED BY 'yourpassword';
   &gt; quit
   # mysqladmin -p reload
</pre>
<p>Aufruf für PostgreSQL (Beispiel):</p>
<pre>
   # su - postgres
   &gt; psql -c "create user moodleuser createdb;" template1
   &gt; psql -c "create database moodle;" -U moodleuser template1
   &gt; psql -c "alter user moodleuser nocreatedb;" template1
</pre>
<br />&nbsp;

<p>Für MySQL empfehle ich den Gebrauch von <a href="http://phpmyadmin.sourceforge.net/"> phpMyAdmin</a> zur Administration der Datenbank.</p>
<p>Seit der Moodle-Version 1.0.8 werden Vorsilben für Datenbanktabellen unterstützt. Damit können Sie die gleiche Datenbank mit mehreren Moodle-Installationen oder anderen Webanwendungen nutzen.</p>
</blockquote>
<p>&nbsp; </p>


<h3><a name="data" id="data"></a>4.3 Datenverzeichnis erstellen</h3>
<blockquote>
<p>Moodle braucht zusätzlich Speicherplatz auf der Festplatte des Webservers für hochgeladene Dateien wie z.B. Kursdokumente oder Nutzerbilder.</p>
<p>Das Installationsskript versucht, automatisch ein solches Verzeichnis auf dem Server zu erstellen. Falls dies aber nicht gelingt, müssen Sie ein solches Verzeichnis selber anlegen. Erstellen Sie an einer beliebigen Stelle auf Ihrem Server für diesen Zweck ein Verzeichnis. Aus Sicherheitsgründen sollte dieses Verzeichnis NICHT für jedermann direkt über das Internet zugreifbar sein. Am besten richten Sie es AUSSERHALB des Programmverzeichnisses ein. Falls Sie das Datenverzeichnis aber innerhalb des Programmverzeichnisses "moodle" anlegen müssen, schützen Sie es mit Hilfe einer Datei .htaccess mit folgendem Inhalt:</p>
<blockquote>
<pre>
deny from all
</pre></blockquote>
<p>Stellen Sie sicher, dass Moodle in diesem Verzeichnis seine Dateien ablegen
darf. Prüfen Sie, ob die Webserver-Software (z.B. Apache) für dieses Verzeichnis eine Schreiberlaubnis hat. Auf Unix-Rechnern lautet der Nutzername für das Verzeichnis normalerweise "nobody" oder "apache" oder "www". Geben Sie diesem Nutzer die Rechte zum Schreiben, Lesen und Ausführen für das Verzeichnis.</p>
<p>Auf Cpanel-Systemen können Sie den &quot;Dateimanager&quot; (file manager) verwenden, um den Ordner zu finden und die &quot;Zugriffsrechte anpassen&quot; zu können. Auf einigen gehosteten Servern müssen Sie die Zugriffsrechte auf Ihre Gruppe beschränken (damit andere Nutzer Ihre Dateien nicht lesen oder verändern können) und allen anderen einen vollen Schreib-/Lesezugriff gewähren (um dem Webserver den Zugriff zu erlauben)</p>
<p>Der Administrator für Ihren Webserver unterstützt Sie bei Problemen. Auf einigen Servern ist die PHP-Einstellung &quot;Safe Mode&quot; <em>erforderlich</em>. Der Administrator wird diese Einstellung für Sie vornehmen. </p>
</blockquote>
<p>&nbsp; </p>
</blockquote>

<h3><a name="admin" id="admin"></a>5. Administrationsseite starten</h3>
<blockquote>
<p>Nachdem die Datei config.php angelegt wurde, wird nun die Admin-Seite aufgerufen, die Sie durch die weitere Konfiguration führt. Beim ersten Aufruf
der Seite müssen Sie der GPL-Lizenzvereinbarung zustimmen, bevor das Setup fortgesetzt wird.</p>

<p>Moodle richtet nun die Datenbank ein und erstellt die erforderlichen Tabellen in der Datenbank. Zuerst werden die Datenbanktabellen erstellt. Sie sehen auf dem Bildschirm eine Reihe von SQL-Meldungen und Bestätigungsmeldungen in roter
oder grüner Schrift. Dies sieht in etwa so aus:</p>
<blockquote>
<p>CREATE TABLE course ( id int(10) unsigned NOT NULL
auto_increment, category int(10) unsigned NOT NULL default '0',
password varchar(50) NOT NULL default '', fullname varchar(254)
NOT NULL default '', shortname varchar(15) NOT NULL default '',
summary text NOT NULL, format tinyint(4) NOT NULL default '1',
teacher varchar(100) NOT NULL default 'Teacher', startdate
int(10) unsigned NOT NULL default '0', enddate int(10) unsigned
NOT NULL default '0', timemodified int(10) unsigned NOT NULL
default '0', PRIMARY KEY (id)) TYPE=MyISAM</p>
<p><span style="color:#006600">SUCCESS</span></p>
<p>...und so weiter, gefolgt von: <span style="color:#006600">Main
databases set up successfully</span>.</p>
</blockquote>
<p style="color:#660000">Falls Sie dies nicht angezeigt bekommen, besteht ein Problem mit der Datenbank oder den Moodle-Einstellungen in der Konfigurationsdatei config.php. Prüfen Sie, ob PHP nicht im eingeschränkten "Safe Mode" läuft (Kommerzielle Webhoster aktivieren häufig den Safe Mode). 
<br />Die PHP-Variablen können Sie selber mit einer kleinen Datei mit folgendem Inhalt überprüfen: <b>&lt;? phpinfo() ?&gt</b>. Speichern Sie die Datei in einen Webverzeichnis und rufen Sie sie mit dem Browser auf. Nun können Sie alle Einstellungen von PHP ablesen. Prüfen Sie die Einstellungen und versuchen Sie dann, die Admin-Seite erneut aufzurufen.</p>
<p>Scrollen Sie nun bis zum Ende der Seite und drücken Sie die Taste "Weiter/Continue" .</p>
<p>Als nächstes sehen Sie eine Vielzahl von Statusmeldungen, die das Erstellen der Tabellen für die verschiedenen Moodle-Module bestätigen. Wie zuvor sollten immer alle Einträge grün sein.</p>
<p>Scrollen Sie jeweils bis ganz nach unten auf der Seite und betätigen Sie die Taste "Weiter/Continue".</p>

<p>Zwischenzeitlich erhalten Sie ein Formular, mit dem Sie weitere Einstellungen
an Ihrem Moodle vornehmen können, wie z.B. die voreingestellte Sprache, SMTP-Hosts und vieles mehr. Sie müssen hier nicht alle Einstellungen sofort vornehmen, denn Sie können die Einstellungen jederzeit im Administrationsmenü
nachbearbeiten. Die Voreinstellungen sind so gesetzt, dass sie für die meisten Server brauchbar und sicher sind. Am Fuß der Seite finden Sie wieder eine Taste "Änderungen speichern/Save changes".</p>
<p style="color:#660000">Wenn (und wirklich nur dann) das Setup an dieser Stelle stecken bleibt, dann hat Ihr Server womöglich ein "buggy referrer" Problem. Dieses ist jedoch leicht zu beheben: Setzen Sie in der Datei config.php die Variable secureforms auf <i>off</i> und starten Sie die Adminseite erneut.</p>

<p>Auf der weiteren Seite legen Sie weitere Einstellungen Ihrer Seite fest (z.B. Name der Seite, Formate, Beschreibungen und so weiter). Füllen Sie alle Angaben aus (Änderungen können Sie jederzeit über das Administrationsmenu vornehmen) und klicken Sie auf "Änderungen speichern/Save changes".</p>
<p>Als letzten Schritt legen Sie die Zugangsdaten für den Administrator von Moodle fest. Tragen Sie Ihren eigenen Name, E-Mail etc. ein und klicken Sie auf "Änderungen speichern/Save changes". Nicht alle Felder müssen ausgefüllt werden. Falls Sie etwas vergessen haben, werden Sie automatisch daran erinnert.</p>
<blockquote>
<p style="color:red; font-weight:bold; font-size:larger;" >Stellen Sie unbedingt sicher, dass Sie sich den Benutzernamen und das Passwort des Administrators
merken. Beides ist unbedingt erforderlich für weitere Verwaltung Ihres Moodle.</p>
</blockquote>
<p style="color:#660000">Falls aus irgendeinem Grund der Installationsprozess unterbrochen wurde, bevor Sie die Zugangsdaten für den Admin erstellt haben, so können Sie den voreingestellten Adminzugang mit dem Nutzernamen &quot;<b>admin</b>&quot; und dem Passwort &quot;<b>admin</b>&quot verwenden. <img src="../pix/s/wink.gif" /></p>
<p>Wenn Sie diesen Schritt erfolgreich abgeschlossen haben, sehen Sie die Administrationsseite. In dem Menü (es wird auch auf der Startseite verlinkt, wenn Sie sich als Admin einloggen) können Sie alle weiteren Einstellungen an Ihrem Moodle vornehmen wie z.B.:</p>
<ul>
<li>Erstellen und löschen von Kursen</li>
<li>Erstellen und bearbeiten von Nutzerzugängen</li>
<li>Verwaltung von Dozentenzugängen</li>
<li>Veränderungen von Einstellungen, die für die gesamte Seite gelten.</li>
</ul>
<p>Die Installation ist jetzt noch nicht ganz abgeschlossen. Sie haben noch eine
besonders wichtige Sache zu erledigen (siehe nächster Abschnitt über Cron-Jobs </p>  
</blockquote>
<p>&nbsp; </p>

<h3><a name="cron" id="cron"></a>6. Cron-Job einrichten -- SEHR WICHTIG!!</h3>
<blockquote>
<p>Einige Module von Moodle prüfen regelmäßig, ob bestimmte Aufgaben ausgeführt werden müssen. Moodle überprüft z.B., ob es in den Foren neue Einträge gibt, die per E-Mail an die Nutzer versandt werden müssen.</p>
<p>Das Skript, das all diese Vorgänge steuert, finden Sie unter dem Namen cron.php im Admin-Verzeichnis. Da diese Skriptdatei nicht von alleine ausgeführt wird, müssen Sie einen Mechanismus einrichten, der diese Datei beispielsweise alle fünf Minuten aufruft. Dies erzeugt einen "Herzschlag" (heartbeat), der periodisch die definierten Funktionen in jedem Modul auslösen kann. Dieser sich ständig wiederholende Aufruf heißt <b>Cron Service</b> oder Cron-Job.

<p><b>Beachten Sie, dass der Cron-Job nicht von dem selben Server ausgelöst werden muss, auf dem  Moodle installiert ist.</b>. Wenn Sie auf Ihrem Moodle-Server keine Cron-Jobs ausführen können, kann dies von einem anderen Server ausgelöst oder auch von Ihrem eigenen Computer aus gestartet werden. Es ist lediglich nötig, die Datei cron.php alle fünf Minuten aufzurufen.</p>

<p>Testen Sie zuerst, ob die Datei funktioniert, indem Sie sie mit Ihrem Webbrowser aufrufen:</p>
<blockquote>
<pre>
http://example.com/moodle/admin/cron.php
</pre></blockquote>
<p>Nun benötigen Sie eine Möglichkeit, das Skript regelmäßig und automatisch auszuführen:</p>

<h4>Auf Windows-Systemen</h4>
<blockquote>
<p>Der einfachste Weg auf Windows-Systemen ist es, das kleines Programm <a title="Download des Programms (150KB)" href=
"http://moodle.org/download/moodle-cron-for-windows.zip"> moodle-cron-for-windows</a> zu benutzen, wodurch die Anpassungen ganz einfach werden. Alternativ Sie könnten auch die in Windows enthaltene Funktion "Scheduled Tasks" benutzen.</p>
</blockquote>

<h4>Auf Web-Hosting-Services</h4>
<blockquote>
<p>Die Oberfläche eines Web-Hosting-Service bietet Ihnen meistens die Möglichkeit, einen Cron-Job einzurichten. Bei Cpanel-Systeme gibt es z.B. einen Knopf &quot;Cron jobs&quot;. Geben Sie hier einen der unten beschriebenen Unix-Befehle ein.</p>
</blockquote>

<h4>Kommandozeile auf Unix-Systemen</h4>
<blockquote>
<p>Es gibt in Unix unterschiedliche Kommandozeilenprogramme, um eine Internetseite aufzurufen. Auf Ihrem Webserver sind vielleicht nicht alle verfügbar.</p>
<p>Verwenden Sie z.B. den Unix-Befehl 'wget':</p>
<blockquote><pre>
wget -q -O /dev/null http://example.com/moodle/admin/cron.php
</pre></blockquote>
<p>In diesem Beispiel wird das Ergebnis verworfen (nach /dev/null).</p>
<p>Oder jetzt der Aufruf mit dem Unix-Befehl 'lynx':</p>
<blockquote><pre>
lynx -dump http://example.com/moodle/admin/cron.php &gt; /dev/null
</pre></blockquote>
<p>Alternativ können Sie auch eine Standalone-Version von PHP nutzen, die über die Kommandozeile gesteuert wird. Der Vorteil dieser Variante ist, dass in den Log-Dateien des Web-Servers der Aufruf von cron.php nicht ständig protokolliert wird. Der Nachteil dieser Variante besteht darin, dass Sie einen Zugang zur
Kommando-Zeile der PHP-Version benötigen.</p>
<blockquote><pre>
/opt/bin/php /web/moodle/admin/cron.php
</pre></blockquote>
</blockquote>

<h4>Programm crontab auf Unix-Systemen</h4>
<blockquote>
<p>Bei Unix-Systemen benutzen Sie <b>cron</b>, um regelmäßig wiederkehrende Befehle automatisiert auszuführen. Die sogenannten Cron-Jobs sind in einer Tabelle mit dem Befehl und seinem Ausführungszeitpunkt gespeichert. Von der Kommandozeile aus bearbeiten Sie die Tabelle der Cron-Jobs, in dem Sie den folgendem Befehl eingeben:
<blockquote><pre>
crontab -e
</pre></blockquote>
<p>Fügen Sie die folgende Zeile zur Tabelle hinzu:</p>
<blockquote><pre>
*/5 * * * * wget -q -O /dev/null http://example.com/moodle/admin/cron.php
</pre></blockquote>
<p>Normalerweise wird der Befehl "crontab" den Editor 'vi' öffnen. Vor dem Schreiben müssen Sie zuerst den Einfügen-Modus (insert) aktivieren, indem Sie "i" eingeben. Danach können Sie die angegebene Zeile eintragen. Um den Einfügen-Modus zu verlassen, drücken Sie die Taste ESC. Zum Sichern und Beenden Sie geben Sie ":wq" ein, Zum Beenden ohne Sichern benutzen Sie ":q!" (jeweils ohne die Anführungszeichen).</p>
</blockquote>


<p>&nbsp;</p>
</blockquote>



<h3><a name="course" id="course"></a>7. Neuen Kurs anlegen</h3>
<blockquote>
<p>Wenn alle Einstellungen vorgenommen wurden, sollte Ihre neue Moodle-Seite einsatzfähig sein und Sie können einen Kurs erstellen.</p>
<p>Wählen Sie "Neuen Kurs anlegen" auf der Administrationsseite (oder über den Link im Administrationsmenü auf der Hauptseite).</p>
<p>Legen Sie die Grundeinstellungen fest. Achten Sie dabei bitte besonders auf das Kursformat. Sie brauchen sich in dieser Stufe nicht zu intensiv mit den Details zu beschäftigen, da alle Einstellungen später durch die Trainer/in geändert werden können. Beachten Sie bitte, dass die gelben Hilfesymbole jederzeit eine Kontexthilfe zu dem jeweiligen Vorgang anbieten.</p>

<p>Über die Taste "Änderungen speichern" gelangen Sie auf eine neue Seite, auf der Sie die Trainer/innen für diesen Kurs zuweisen. Nur bereits im Moodle-System eingetragene Nutzer/innen können als Trainer/innen zuweisen werden. Falls ein neuer Trainerzugang eingerichtet werden muss, erzeugen Sie ihn zuerst über den Link "Neuen Benutzer anlegen" im Administrationsmenü - erst danach können Sie dem Kurs diese neue Trainer/in zusweisen.</p>
<p>Wenn dies erledigt ist, sind die Vorbereitungen abgeschlossen und der Kurs kann über den Link "Kurse" auf der Hauptseite aufgerufen und weiter bearbeitet werden.</p>
<p>Lesen Sie online die Seite <a href="./?file=teacher.html">Kleines Trainerhandbuch</a>, um weitere Informationen zur Erstellung eines Kurses zu erhalten. Eine ausführliche gedruckte Anleitung in deutscher Sprache finden Sie <a href="http://moodle.de"> im Trainerhandbuch und im Teilnehmerhandbuch</a>. </p>
<p>&nbsp;</p>
  <p align="center"><b>Viel Spaß beim Erforschen von Moodle und beim aktiven Moodeln!</b></p>
  <p align="center"><b>Wenn Ihnen Moodle gefällt, <a href="http://moodle.org/donations/" target="_blank">fördern Sie Moodle</a> und helfen Sie, die Entwicklung zu finanzieren! </b></p>
</blockquote>
<p>&nbsp;&nbsp; </p>
<p align="center"><a href="." target="_top"><font size="1">Moodle
Dokumentation</font></a></p>
<p align="center"><font size="1">Version: $Id$</font></p>
</body>
</html>
