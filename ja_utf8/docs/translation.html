<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Moodle translation guide</title>
  <link rel="stylesheet" href="docstyles.css" type="TEXT/CSS" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>

<h1>Moodle翻訳ガイド</h1>

<p>Moodleの翻訳は難しくありませんが、あなたが翻訳作業を始める前に知っておいた方が良いいくつかの事があります。</p>

<p>&nbsp;</p>

<h2>Moodle言語パックの構造</h2>

<p style="margin-left: 40px;">すべてのMoodle言語パックは、言語の省略名 (例 en、fr、nl、es ...) と同じ固有のディレクトリ名の言語ディレクトリに入っています。</p>

<p style="margin-left: 40px;">すべてのメインファイルは、.php拡張子 (例 moodle.php、resource.php等) が付けられ、このフォルダの中に入っています。&nbsp;
これらのファイルは、「<span style="font-style: italic;">ストリング</span>」と呼ばれる短い語句を含んでいます。 
</p>

<p style="margin-left: 40px;">いくつかのフォルダには、.htmlウェブページも入っています:
</p>

<ul style="margin-left: 40px;">

<li><strong>help</strong>: Moodleのヘルプファイルアイコンをクリックしたときにポップアップ表示する文脈依存のヘルプファイルが入っています。
</li><li><strong>docs</strong>: 基本的なドキュメンテーションページが入っています。 (このページのようなものです!)<br />
</li>
</ul>

<p>&nbsp;</p>

<h2>完全に新しい言語パックの作成</h2>

<p style="margin-left: 40px;">あなたの言語がMoodleでサポートされていない場合、または自分のサイト用にカスタマイズした言語パックを作成したい場合は、新しい翻訳を始めてください。</p>

<p style="margin-left: 40px;">あなたがやらなければならないことは、言語ディレクトリにあなたの言語の2文字コードを使った新しいフォルダを作成することです。これらの標準的なコードは、lib/languages.php に記載されています。あなたが言語のもう1つのローカルバージョンを作成する場合、アンダースコア (_) で意味のある2文字の拡張子を付けたその言語のコード使用してください (例 ポルトガル語の <span style="font-style: italic;">pt </span> およびポルトガル言語パックのブラジル版 <span style="font-style: italic;">pt_br</span>)。&nbsp; あなたがユニコードバージョンの言語パックを作成している場合、語尾に <span style="font-weight: bold;">_utf8</span> を付けてください (例 <span style="font-style: italic;">sr_utf8</span>)。<br />
</p>

<p style="margin-left: 40px;">次に新しい言語フォルダの中に、下記の行を含むファイル「moodle.php」を作成してください:<br /><br />
<code>
&lt;?PHP <br />
$string['thischarset'] = 'iso-8859-1';<br />
$string['thisdirection'] = 'ltr';<br />
$string['thislanguage'] = 'new language pack';<br />
?>
</code>
<br /><br />
または、moodle.phpを他の言語から新しいディレクトリにコピーしてください。&nbsp; 「en」フォルダからコピーする方法がベストですが、内容を書き換えることになりますので特に重要ではありません。moodle.phpをあなた自身で作成することは、完全にクリーンな言語パックを作る点で役に立ちます。<br />
</p>

<p style="margin-left: 40px;">言語ファイルを編集して新しいストリングを入れる準備ができました ... 詳細は下記をご覧ください。</p>

<p style="margin-left: 40px;">新しい言語パックで、あなたが最初にやらなければならないことは、moodle.phpの「thischarset」という名称のストリングを編集することです。ここには、あなたの言語の有効な文字コードを入力する必要があります。このストリングを変更した後、moodle.phpファイルを保存して、<span style="font-weight: bold;">ページをリロードしてください</span>。その後、残りのストリングの翻訳作業を行ってください。</p>

<p>&nbsp;</p>

<h2>既存の言語パックの編集</h2>

<h3 style="margin-left: 40px;">小規模なカスタマイズ<br />
</h3>

<p style="margin-left: 80px;">あなたのサイトに合うように、少しのインターフェースを変更したい場合、<span style="font-weight: bold;">標準言語パックを編集し始めないでください</span>。&nbsp; 標準言語パックを編集した場合、次に新しいMoodleにアップグレードするときに、あなたの変更した内容が上書きされます。<br />
</p>
<p style="margin-left: 80px;">新しい言語パックを作成するために、代わりに上記の説明書を使用し、あなたの言語に一番近い親言語 (parent language、moodle.php内) を設定してください。&nbsp;例えば、ローカル英語バージョンの良いネーミングは「<span style="font-style: italic;">en_local</span>」で、親言語は「<span style="font-style: italic;">en</span>」または「<span style="font-style: italic;">en_us</span>」です。</p>
<p style="margin-left: 80px;">あなたのサイトですべての人が新しい言語パックを見るようにするためには、<span style="font-weight: bold;">管理&gt;&gt; 設定&gt;&gt; 詳細設定</span> で新しい言語パックをサイト言語に選択して、利用可能な他の言語を制限する必要があります。<br />
<br />
</p>

<h3 style="margin-left: 40px;">Moodleインターフェース言語ファイルの翻訳 (「ストリング」ファイル)<br />
</h3>

  
  <ol  style="margin-left: 80px;">
    <li>あなたのMoodleサーバに管理者としてログインしてください。</li>
    <li><span style="font-weight: bold;">管理 &gt;&gt; 設定 &gt;&gt; 言語設定</span> から言語管理ページへ移動してください。</li>
    <li>このページで、あなたの言語をメニューから選択することができます。「翻訳ストリングの編集」を選択してください。</li>
    <li>各ファイルを編集できるフォームが表示されます。表示されない場合は、ファイルに書き込み権が与えられているか確認してください - ファイルのパーミッションを変更してください。</li>
    <li>フォームは、3つのカラムから構成されます。最初は各ストリングの名称、2番目は英語のストリング、そして最後は現在の言語の翻訳内容です。</li>
    <li>各ファイルの未翻訳ストリング (ハイライトされています) を編集して、各フォーム下部にある「変更を保存する」ボタンを忘れずにクリックしてください。</li>
    <li>ストリングを空のままにすることもOKです - Moodleは、代わりにそのストリングの親言語のストリングを単に使用します。親言語をmoodle.phpで設定することができます。そうでなければ英語が常にデフォルトの親言語として使用されます。</li>
    <li>すべての未翻訳ストリングを確認する早い方法は「未翻訳ストリングの確認」ボタンを使用することです。未翻訳ストリングを完全に空にしてください。そうでなければ、この便利な道具は動作しません。<br />
      <br />
    </li>
</ol>

<h3 style="margin-left: 40px;">ヘルプファイルおよびドキュメンテーションファイルの翻訳</h3>

<p style="margin-left: 80px;">まだMoodleには、ヘルプファイルを翻訳するためのビルトインエディタはありませんが、それ程難しいものではありません。<span style="font-weight: bold;">en</span> 言語パックを参照言語として使用することは重要です。en言語パックよりヘルプファイルをコピーして、あなたの言語パック内の同じ場所にペーストしてください。そして、プレインテキストエディタを使用して翻訳してください。ファイル中のいかなるコード (通常、コードはなく、HTMLタグのみあります) も変更しないでください。(多くの不要なものを追加しますので、ヘルプファイルの編集にワードプロセッサを使用しないでください。)<br /><b>未翻訳のヘルプファイルを、あなたの言語パックの中に入れないでください。</b></p>

<p style="margin-left: 80px;">ヘルプファイルが、XHTMLに準拠するように注意してください。要約すれば:</p>
<ul style="margin-left: 80px;">
  <li>すべてのタグを閉じてください: <span style="color:rgb(255, 0, 0);" >&lt;p&gt;</span>lalala<span style="color:rgb(255, 0, 0);" >&lt;/p&gt;</span></li>
  <li>すべての要素をネストしてください: <span style="color:rgb(255, 0, 0);" >&lt;p&gt;</span> lalala <span style="color:rgb(0, 0, 255);" >&lt;em&gt;</span>lalala<span style="color:rgb(0, 0, 255);" >&lt;/em&gt;</span> <span style="color:rgb(255, 0, 0);" >&lt;/p&gt;</span></li>
  <li>すべての要素および属性は小文字を使用してください。</li>
  <li>すべての属性は完全かつ引用符付きで記述してください : <span style="color:rgb(255, 0, 0);" >&lt;p align=&quot;right&quot;&gt;</span> lalala &lt;/p&gt;</li>
  <li>空の要素は /&gt; で終わらせてください: <span style="color:rgb(255, 0, 0);" >&lt;br /&gt; &lt;hr /&gt;</span>。余分な空白を「/」記号の前に付加してください。</li>
  <li>&lt;img では、alt="" (空も可) を含んでください。他の空要素と同じく、<span style="color:rgb(255, 0, 0);" >&lt;img alt="" src="picture.gif" /></span> のように空白および /&gt; で閉じてください。</li>
  <li><span style="color:rgb(255, 0, 0);" >&lt;?=</span> および <span style="color:rgb(255, 0, 0);" >&lt;?</span> ではなく <span style="color:rgb(255, 0, 0);" >&lt;?php</span> を使用してください。</li>
  <li>いかなるフォントタグも使用しないでください。言語ファイルには <span style="color:rgb(255, 0, 0);" > &lt;p&gt;&lt;em&gt; &lt;h1&gt; &lt;h2&gt;</span> 等で十分です ...</li>
  <li>言語パックの言語名 (moodle.php内の$string['thislanguage']) は、可能であれば一般的にユニコード数値文字参照 (NCR - Unicode Numeric Character References) を使用してください。このことにより、いかなるエンコーディングでも言語名を表示させることができます (例として日本語言語パックをご覧ください)。</li>
</ul>
<p style="margin-left: 80px;">ヘルプフォルダのファイルには、doc type、html、body、headオープニングおよびクロージングタグは不要です - これらのタグは、help.phpに含まれています。スクリプトがページの形を整えます。このことは、HTMLの創造性の余地がそれ程無いことを意味します! 英語言語パックの例に従ってください。</p>
<p style="margin-left: 80px;">docsフォルダのファイルは、doc type、header等、完全にXHTMLに準拠してください。</p>

 
<p style="margin-left: 80px;">言語管理ページで「未翻訳ストリングの確認」をクリックすることで、どのファイルが翻訳されていないか表示することもできます。未翻訳のファイルがある場合、代わりにMoodleは親言語を使用しますので、<strong>未翻訳の</strong>ヘルプファイルをあなたの言語パックに入れないでください。 未翻訳のヘルプファイルを入れると、この便利なツールが動作しません。</p>

<p>&nbsp;</p>

<h2>Moodleプロジェクトにあなたの言語パックを投稿</h2>

<p style="margin-left: 40px;">あなたの翻訳をMoodleと共有することは、確実にあなたの言語を話す他の人々の役に立つことになります。&nbsp;&nbsp;
あなたのインターフェース言語は、将来のMoodleバージョンで利用できるようになります。<br />
</p>

<p style="margin-left: 40px;">あなたの新しい言語ディレクトリを<span style="font-weight: bold;">zip</span>ファイルにアーカイブして、<a href="m&#97&#105&#108&#116&#111:tra%6es%6ca%74%69o%6e%40%6d%6f%6f%64%6c%65.org">&#116&#114a&#110&#115&#108&#97t&#105on&#64&#109o&#111&#100&#108e&#46o&#114&#103</a> 宛にメールでお送りください。<br />
</p>
<p style="margin-left: 40px;">あらためて詳細な情報をお送りします。<br />
</p>

<p  style="margin-left: 40px;">コミットする前のチェックリスト::</p>
<ul type="circle" style="margin-left: 80px;">
<li>空のファイルがありませんか?</li>
<li>未翻訳のファイルまたはストリングがありませんか?</li>
<li>ワードプロセッサで編集したファイルがありませんか?</li>
<li>翻訳者の言語、氏名、メールアドレスが含まれたREADMEファイルがありますか?</li>
<li>フォルダ名に正しい言語コード (moodle\lib\languages.phpを確認してください) を使用していますか?</li>
<li>言語ファイルは、テストサイトでエラーなしで動作しますか?</li>
<li>「thislanguage」がラテン文字以外を含む場合、 NCR表記法で書かれていますか?</li>
<li>ストリングおよびファイルは、XHTMLに準拠していますか?</li>
</ul>

<h2>標準言語パックのメンテナンス<br />
</h2>

<p style="margin-left: 40px;">あなたがMoodleで言語ファイルのメンテナンスを行っている場合、最新のバージョンのMoodleを取得し、あなたの修正を直接簡単にMoodleプロジェクトへ「チェックイン」できる<a href="?file=cvs.html">Moodle CVS</a>を使用することがベストです。 この設定に関して手助けが必要な場合は、<a href="m&#97&#105&#108&#116&#111:tra%6es%6ca%74%69o%6e%40%6d%6f%6f%64%6c%65.org">&#116&#114a&#110&#115&#108&#97t&#105on&#64&#109o&#111&#100&#108e&#46o&#114&#103</a> にご連絡ください。<br />
</p>

<p style="margin-left: 40px;">同様に<a target="_top" href="http://moodle.org/mod/forum/view.php?id=43">Languages Forum</a>で、翻訳に影響のあるニュースおよびディスカッションのメール購読登録を行ってください。<br />
</p>

<p style="margin-left: 40px;">最後に、毎日を基本としてプロジェクトの情報を取得してください。<a href="http://sourceforge.net/mail/?group_id=30935" target="_top">CVSメーリングリスト</a>で、メール購読登録を行うことは大変良い考えです。このことにより、可能な限りあなたの翻訳を英語テキストに近づけることができます。<br />
</p>
<p style="margin-left: 40px;"><br />
</p>

<p align="center"><font size="1"><a href="." target="_top">Moodleドキュメンテーション</a></font></p>
<p align="center"><font size="1">Version: $Id$</font></p>

</body></html>