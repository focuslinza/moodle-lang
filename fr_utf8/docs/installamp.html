<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

    <title>Documentation Moodle : Installation de PHP et de MySQL</title>

	<link rel="stylesheet" href="docstyles.css" type="text/css" />

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

</head>

<body>

<h1>Installation d'Apache, de MySQL et de PHP</h1>

<blockquote>

<p>Moodle est écrit dans un langage de scripts appelé PHP, et conserve la plupart des données qu'il utilise dans une base de données. Le gestionnaire de base de données que nous recommandons est MySQL. Avant d'installer Moodle, vous devez disposer d'une installation de PHP et d'un gestionnaire de base de données qui fonctionnent, de façon que votre ordinateur soit une plateforme web fonctionnelle. L'installation de tels logiciels peut être complexe. Cette page a été écrite pour essayer de rendre ce processus aussi simple que possible pour différentes plateformes :</p>

  <ul>
    <li><a href="#host" class="questionlink">Hôtes web</a></li>
    <li><a href="#mac" class="questionlink">Mac OS X</a></li>
    <li><a href="#redhat" class="questionlink">Redhat Linux</a></li>
    <li><a href="#windows" class="questionlink">Windows</a></li>
  </ul>
  <p class="questionlink"> </p>
  <h3 class="sectionheading"><a name="host" id="host"></a>Hôtes web</h3>
  <blockquote>
    <p>Le fonctionnement des nombreux hôtes web diffère malheureusement considérablement
    d'un hôte à l'autre.
    Certains d'entre eux seront d'accord d'installer Moodle pour vous.</p>
    <p>La plupart vous offre une interface web (tableau de bord) vous permettant
    de contrôler votre site web, de créer des bases de données et de mettre en place des
    crons. Certains vous donnent accès à une interface terminal par ssh, de sorte que vous
    pouvez utiliser la ligne de commande pour effectuer des opérations.</p>
    <p>Parcourez le <a href="./?file=install.html">Guide d'installation</a>
    et effectuez les étapes décrites l'une après l'autre. Si vous êtes coincé, demandez de l'aide à
    votre fournisseur web.</p>
    <p> </p>
  </blockquote>
  <h3 class="sectionheading"><a name="mac" id="mac"></a>Mac OS X</h3>
  <blockquote>
    <p>Le plus simple est d'utiliser le serveur Apache fourni par Apple, et d'y ajouter
    PHP et MySQL avec les paquets de Marc Liyanage. Les deux pages ci-dessous contiennent
    d'excellentes instructions pour l'installation, que nous n'allons pas recopier ici :</p>
    <blockquote>
      <p><strong>PHP</strong> : téléchargement ici <a href="http://www.entropy.ch/software/macosx/php/" >http://www.entropy.ch/software/macosx/php/</a></p>
      <p><strong>MySQL</strong> : téléchargement ici <a href="http://www.entropy.ch/software/macosx/mysql/" >http://www.entropy.ch/software/macosx/mysql/</a></p>
    </blockquote>
    <p>Une fois ces logiciels installés, le <a href="./?file=install.html">Guide
    d'installation</a> standard pourra être facilement suivi.</p>
    <p>Une marche à suivre plus détaillée est disponible ici :
    <a href="http://moodle.org/wiki/index.php/InstallingMoodle">http://moodle.org/wiki/index.php/InstallingMoodle</a>.</p>
    <p> </p>
  </blockquote>
  <h3 class="sectionheading"><a name="redhat"></a>Redhat Linux</h3>
  <blockquote>
    <p>Vous devez installer tous les paquets RPM pour Apache, PHP et MySQL. Un paquet
    souvent oublié est le paquet « php-mysql », nécessaire pour la communication
    entre PHP et MySQL.</p>
    <p>Une fois ces logiciels installés, le <a href="./?file=install.html">Guide
    d'installation</a> standard pourra être facilement suivi.</p>
    <p>Une marche à suivre plus détaillée est disponible ici :
    <a href="http://moodle.org/wiki/index.php/InstallingMoodle">http://moodle.org/wiki/index.php/InstallingMoodle</a>.</p>
  </blockquote>
  <p> </p>
  <h3 class="sectionheading"><a name="windows" id="windows"></a>Windows</h3>
  <blockquote>
    <p>Le plus simple est d'utiliser <a href="http://www.easyphp.org/"
    >EasyPHP</a>, un paquet qui regroupe tous les éléments logiciels
    nécessaires en une seule application Windows. Voici une marche à suivre détaillée :</p>
    <ol>
      <li>Avant tout, si vous avez déjà installé MySQL auparavant (même si vous l'utilisez
      avec une autre application), désinstallez-le complètement, effacez tous les fichiers
      de MySQL et effacez également <strong>c:\my.cnf</strong> et
      <strong>c:\windows\my.ini</strong>. Il sera peut-être nécessaire de rechercher et
      d'effacer TOUS les fichiers dénommés <strong>my.cnf</strong> ou <strong>my.ini</strong>.</li>
      <li>Si vous avez déjà installé PHP auparavant, effacez tous les fichiers dénommés
      <strong>php4ts.dll</strong> de votre dossier Windows, ainsi que tous les fichiers
      dénommés <strong>php.ini</strong>.</li>
      <li>Téléchargez EasyPHP à cette adresse : <a href="http://www.easyphp.org/telechargements/dn.php?F=easyphp1-7">http://www.easyphp.org/telechargements/dn.php?F=easyphp1-7</a> 
      (environ 10 MO).</li>
      <li>Lancez le fichier téléchargé <strong>easyphp1-7_setup.exe</strong>. Le processus
      d'installation est en français (Ouf!!) - nous vous conseillons d'accepter les réglages
      par défaut et de tout installer.</li>
      <li>À la fin de l'installation, cochez la case à cocher « Lancer 
      EasyPHP » et cliquez sur le bouton « Terminer ». Une page web
      d'informations s'affichera.</li>
      <li>Si tout s'est bien passé, nos félicitations : Apache, PHP et MySQL sont tous installés
      et fonctionnent ! Votre barre des tâches contient un E noir. En cliquant dessus, vous
      obtiendrez un menu qui vous permet de contrôler les programmes. Vous n'en avez pas
      besoin pour l'instant.</li>
      <li>La prochaine chose à faire et de mettre en place une base de données pour Moodle.
      Cliquez avec le bouton droit de la souris sur le E noir de votre barre des tâches, et
      choisissez Administration, puis cliquer sur DB Management (près de PHPMyAdmin).</li>
      <li>Si l'on vous demande un nom d'utilisateur, utilisez « <strong>root</strong> » avec un <strong>mot
      de passe vide</strong>. L'interface web de phpMyAdmin s'affichera et vous permettra de créer de
      nouvelles bases de données et de nouveaux comptes utilisateurs.</li>
      <li>Créez une nouvelle base de données en tapant « moodle » dans le champ et
      cliquez sur le bouton « Create ». Facile !</li>
      <li>Vous pouvez aussi créer un nouvel utilisateur pour votre base de données. Ce peut
      être un peu compliqué pour un débutant. C'est pourquoi vous pouvez utiliser pour commencer
      le compte utilisateur existant « root » avec un mot de passe vide dans votre
      configuration Moodle, et corriger cela plus tard.</li>
      <li>Vous pouvez maintenant installer Moodle ! Téléchargez la dernière version de 
      Moodle à l'adresse <a href="http://moodle.org/download"
      >http://moodle.org/download</a> et décompactez le fichier compressé.</li>
      <li>Copiez vos fichier Moodle dans <strong>C:\Program Files\EasyPHP\www</strong>. Vous
      pouvez soit copier l'intégralité du dossier moodle (c'est-à-dire
      C:\Program Files\EasyPHP\www\moodle), soit copier le <em>contenu</em> du dossier moodle.
      Si vous choisissez cette cernière option, vous pourrez accéder à votre site Moodle à
      l'adresse http://localhost/ plutôt que http://localhost/moodle/.</li>
      <li>Créez un nouveau dossier vide ailleurs sur votre disque dur pour que Moodle
      puisse y placer les fichiers déposés par les utilisateurs, par exemple
      <strong>C:\moodledata</strong>.</li>
      <li>Allez dans votre dossier Moodle et faites une copie de config-dist.php, que vous
      appelerez config.php.</li>
      <li>Modifiez config.php avec un éditeur de texte (Notepad fera l'affaire ;
      assurez-vous simplement qu'il n'ajoute pas d'espaces à la fin du fichier).</li>
      <li>Indiquez tous les paramètres concernant votre base de données :<br />
      $CFG->dbtype = 'mysql';<br />
      $CFG->dbhost = 'localhost';<br />
      $CFG->dbname = 'moodle';<br />
      $CFG->dbuser = 'root'; <br />
      $CFG->dbpass = '';<br />
      $CFG->dbpersist = true;<br />
      $CFG->prefix = 'mdl_';</li>
      <li>Puis indiquez tous les chemins des fichiers :<br />
      $CFG->wwwroot = 'http://localhost/moodle'; // Indiquez une adresse externe 
      si vous la connaissez.<br />
      $CFG->dirroot = 'C:\Program Files\EasyPHP\www\moodle'; <br />
      $CFG->dataroot = 'C:\moodledata';</li>
      <li>Enregistrez config.php - tous les autres paramètres peuvent être ignorés.</li>
      <li>C'est presque fini ! Le reste de la configuration s'effectue à travers
      une interface web. Pour continuer, visitez l'adresse <a href="http://localhost/moodle/admin/"
      >http://localhost/moodle/admin/</a> avec votre navigateur.</li>
      <li>Pour utiliser des fichiers compressés zip avec Moodle (par exemple pour des
      backups compressés), vous devrez peut-être activer la librairie « zlib ».
      Vous pouvez le faire dans votre dossier EasyPHP (<strong>C:\Program Files\EasyPHP</strong>),
      en lançant le programme phpini.exe qui s'y trouve. Cochez la case se rapportant
      à « zlib.dll ». Fermer la fenêtre, puis cliquez avec le bouton droit de la
      souris sur le E noir de votre barre des tâches. Dans le menu qui apparaît,
      sélectionner l'option « Restart ».</li>
      <li>Finalement, vous devez configurer un cron. Voyez  le <a href="./?file=install.html">Guide
      d'installation</a> pour plus de détails à ce sujet.</li>
    </ol>
    <p>Si vous n'utilisez pas ou ne pouvez pas utiliser EasyPHP, voici quelques trucs
    pour vous permettre d'installer PHP correctement et d'éviter des problèmes
    courants :</p>
    <ul>
      <li>Vérifiez que le module GD est activé, afin que Moodle puisse traiter les images
      - vous devrez peut-être modifier votre fichier php.ini et retirer le caractère de 
      commentaire (;) de la ligne contenant : « extension=php_gd2.dll ».</li>
      <li>Vérifiez que le module zlib est activé, afin de pouvoir créer et décompresser
      des fichiers zip dans Moodle.</li>
      <li>Vérifiez que le support des sessions est activé - vous devrez peut-être modifier
      votre fichier php.ini et corriger le dossier indiqué pour le paramètre
      <strong>session.save_path</strong>. À la place du dossier par défaut « /tmp »,
      spécifiez un dossier Windows, comme « c:/temp ».</li>
    </ul>
  </blockquote>
</blockquote>

<p align="center"><font size="1"><a href="." >Documentation Moodle</a></font></p>
<p align="center"><font size="1">Version: $Id$</font></p>

</body>
</html>
