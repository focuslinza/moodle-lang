<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>

	<title>Documentation Moodle : Mise à jour</title>

	<link rel="stylesheet" href="docstyles.css" type="text/css" />

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

</head>

<body>

<h1>Mise à jour de Moodle</h1>

<blockquote>

<p>Moodle est conçu pour être mis à jour sans difficulté de n'importe quelle version plus ancienne à une version ultérieure.</p>

<p>Pour mettre à jour une installation de Moodle, veuillez suivre ces étapes :</p>

<h3 class="sectionheading">1. Faites une copie de sauvegarde (backup) des données importantes</h3>

<blockquote>

<p>Bien que cela ne soit pas strictement nécessaire, c'est toujours une bonne idée de faire une copie de sauvegarde d'un système en production avant une mise à jour importante, au cas o_ vous auriez besoin de revenir à l'ancienne version. En fait, une meileure idée serait l'automatisation de la sauvegarde journalière de votre installation de Moodle sur votre serveur. Vous pourrez ainsi sauter cette étape.</p>

<p>Trois zones nécessitent une copie de sauvegarde :</p>

<blockquote>

<p><strong>1. Le dossier contenant le logiciel Moodle</strong></p>

<blockquote>

<p>Faites une copie séparée de ces fichiers avant la mise à jour. Vous pourrez ainsi retrouver votre config.php et les modules que vous aurez ajoutés, comme les thèmes, les langues, etc.</p>

</blockquote>

<p><strong>2. Votre dossier de données</strong></p>

<blockquote>

<p>C'est là que sont placés les fichiers déposés (ressources de cours, devoirs d'étudiants, etc.). Il est donc très important d'avoir une copie de ces fichiers. Parfois, la mise à jour pourra déplacer ou renommer les dossiers à l'intérieur de votre dossier de données.</p>

</blockquote>

<p><strong>3. Votre base de données</strong></p>

<blockquote>

<p>La plupart des mises à jour de Moodle modifient les tables de la base de données, en y ajoutant ou changeant certains champs. Chaque gestionnaire de base de données possède plusieurs façons de faire des copies de sauvegarde. Avec MySQL, on peut par exemple faire un « dump » de la base de données dans un fichier SQL. L'exemple suivant montre les commandes Unix pour effecteur cette opération avec une base de données appelée « moodle » :</p>

<p class="commandline">mysqldump moodle &gt; moodle-backup-2002-10-26.sql</p>

<p>Vous pouvez aussi utiliser la fonction « Exportation » de l'interface web optionnelle « Base de données » de Moodle, pour effectuer cela sur toutes les plateformes.</p>

</blockquote>

</blockquote>

</blockquote>

<h3 class="sectionheading">2. Installez la nouvelle version de Moodle</h3>

<blockquote>

<p><strong>Avec un fichier compressé téléchargé</strong></p>

<blockquote>

<p>N'écrasez pas une ancienne installation de Moodle, à moins de savoir ce que vous faites... D'anciens fichiers peuvent en effet poser problème dans une nouvelle installation. Le mieux est de renommer votre dossier Moodle actuel, puis de décompresser la nouvelle version de Moodle à la place de l'ancienne.</p>

<p class="commandline">mv moodle moodle.backup<br /> tar xvzf moodle-1.1.tgz</p>

<p>Ensuite, copiez dans le nouveau dossier votre config.php et les autres extensions, tels que vos thèmes personnalisés :</p>

<p class="commandline">cp moodle.backup/config.php moodle<br /> cp -pr moodle.backup/theme/mytheme moodle/theme/mytheme</p>

</blockquote>

<p><strong>En utilisant CVS</strong></p>

<blockquote>

<p>Si vous utilisez CVS, placez-vous dans le dossier racine de Moodle et mettez à jour les anciens fichiers :</p>

<p class="commandline">cvs update -dP</p>

<p>Assurez-vous d'utiliser le paramètre « d » pour créer si nécessaire les nouveaux dossiers, ainsi que le paramètre « P » pour vous débarrasser des dossiers vides.</p>

<p>Si vous avez modifié des fichiers de Moodle, observez très attentivement les messages retournés lors de la mise à jour, afin de détecter d'éventuels conflits. Tous vos thèmes personnalisés et ajouts non standard ne seront pas touchés.</p>

</blockquote>

</blockquote>

<h3 class="sectionheading">3. Finalisez la mise à jour</h3>

<blockquote>

<p>La dernière étape consiste à déclencher le processus de mise à jour dans
Moodle.</p>

<p>Pour le faire, visitez simplement <a target="_top" href="../admin/index.php">la page
d'administration de votre installation</a>.</p>

<p class="examplecode">http://example.com/moodle/admin</p>

<p>Il n'est pas nécessaire que vous soyez connecté en tant qu'administrateur.</p>

<p>Moodle détectera automatiquement la nouvelle version et effectuera toutes les mises
à jour nécessaires sur la base de données et sur les fichiers. S'il est incapable
d'effectuer une opération tout seul (très rarement), des messages s'afficheront qui
vous indiqueront les opérations à effectuer.</p>

</blockquote>

<p>  </p>

<p>Si tout se passe sans problème (pas de message d'erreur), vous pouvez utiliser tout de suite votre nouvelle version de Moodle et ses nouvelles fonctionnalités ! version of Moodle and enjoy the new features!</p>

<p>En cas de problèmes avec la mise à jour, visitez le site <a target="_top" href="http://moodle.org/">moodle.org</a> et postez un message sur le forum

<a target="_top" href="http://moodle.org/mod/forum/view.php?id=28">Installation Support Forum</a> du cours Using Moodle.</p>

</blockquote>

<p> </p>

<p align="center"><font size="1"><a href="." target="_top">Documentation Moodle</a></font></p>

<p align="center"><font size="1">Version: $Id$</font></p>

</body>

</html>
