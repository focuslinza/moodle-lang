<!-- $Id$ -->

<p align=center><strong>Importer des fichiers en format « GIFT »</strong></p>

<p>Le format GIFT est le format le plus exhaustif pour l'importation de questions dans le module de tests de Moodle. Il permet l'importation de questions à Choix multiples, Vrai/Faux, à Réponses courtes, d'Appariement et Numériques, ainsi que l'insertion de _____  pour le format « Mot manquant ». Les différents types de questions peuvent être utilisés ensemble dans un seul fichier texte. Le format permet également l'insertion de commentaires, de titres de questions, de feedbacks et de coefficients.</p>

<h3>Types de questions</h3>

<h4>Choix multiples</h4>

<p>Pour les questions à choix multiples, les réponses incorrectes sont préfixées d'un tilde (~) et la réponse correcte d'un signe égal (=).</p>

<pre>     Quel est le nom du héros du Comte de Monte-Cristo ?{~Jean Valjean ~Étienne Lantier =Edmond Dantès}</pre>

<p>Le format <strong>Mot manquant</strong> insère automatiquement une ligne à compléter (comme cela _____) au milieu du texte. Pour obtenir ce résultat, placez les réponses là où vous voulez que la ligne apparaisse. Les signes _____ ne sont insérés que si les réponses sont placées avant la ponctuation finale.</p>

<pre>     Le héros du Comte de Monte-Cristo s'appelle {~Jean =Edmond ~Philippe} Dantès.</pre>

<p>Tous les types de questions permettent ce format <strong>Mot manquant</strong>.</p>

<p>Une ligne vide (deux retours de chariot) doit séparer les différentes questions. Les réponses peuvent être écrites sur des lignes séparées et même indentées, dans un souci de clarté :</p>

<pre>
     L'histoire des Trois Mousquetaires se déroule au {
     ~quinzième
     ~seizième
     =dix-septième
     } siècle.

     De quelle pays sont originaires les caractères japonais ? {
     ~Inde
     =Chine
     ~Corée
     ~Égypte}
</pre>

<h4>Réponse courte</h4>

<p>Dans ce format, les réponses sont toutes préfixées d'un signe égal (=), indiquant que toutes sont correctes. Les réponses ne peuvent contenir de tilde.</p>

<pre>
     Quel est le nom du héros du Comte de Monte-Cristo ?{=Dantès =Edmond Dantès}

     Deux plus deux égale {=quatre =4 =IV =Quatre}.
</pre>

<p>S'il n'y a qu'une seule bonne Réponse courte, elle peut être écrite sans le signe égal, à moins qu'elle ne puisse être confondue avec une question Vrai/Faux.</p>

<h4>Vrai/Faux</h4>

<p>La réponse indique ici lequel des énoncés est vrai ou faux. La réponse s'écrit {TRUE} ou {FALSE}, ou de façon abrégée {T} ou {F}.</p>

<pre>
     Étienne Lantier est le héros du Comte de Monte-Cristo.{F}

     Le Soleil se lève du côté Est.{T}
</pre>

<h4>Appariement</h4>

<p>Les paires correspondantes doivent commencer par un signe égal (=) et sont séparées par le symbole « -> » (sans les guillemets). Il doit y avoir au moins trois paires.</p>

<pre>
     Question d'appariement. {
     =Terme 1 -> Correspondance 1
     =Terme 2 -> Correspondance 2
     =Terme 3 -> Correspondance 3
     }

     Faites correspondre les pays ci-dessous avec leur capitale. {
     =Canada -> Ottawa
     =Italie -> Rome
     =Japon  -> Tokyo
     =Inde   -> New Delhi
     }
</pre>

<p>
Les questions d'appariement ne permettent ni les feedbacks, ni les coefficients.</p>

<h4>Numérique</h4>

<p>La réponse d'une question numérique doit commencer par le signe dièze (#). Elle peut contenir une marge d'erreur, écrite immédiatement après la réponse correcte, séparée par un signe deux-points (:). Si par exemple la réponse est située entre 1.5 et 2.5, on écrira <strong>{#2:0.5}</strong>. Si aucune marge d'erreur n'est spécifiée, elle est assimilée à 0.</p>

<pre>     
     En quelle année est né Wolfgang Amadeus Mozart ? {#1756}

     Quelle est la valeur de π (3 décimales) ? {#3.1415:0.0005}.
</pre>

<p>On peut aussi donner la réponse numérique sous la forme d'un intervalle de la façon suivante : {#<em>minimum</em>..<em>maximum</em>}.</p>

<pre>
     Quelle est la valeur de π (3 décimales) ? {#3.141..3.142}.
</pre>

<p>L'interface graphique (navigateur) de Moodle ne permet pas les réponses numériques multiples, mais le code de Moodle les permet, tout comme le format GIFT. On peut ainsi spécifier différents intervalles numériques, ce qui est particulièrement utile en le combinant avec des coefficients. Si plusieurs réponses numériques sont utilisées, elles doivent être séparées par un signe égal (=), comme les réponses courtes.</p>

<pre>
     En quelle année est né Wolfgang Amadeus Mozart ? {#
     =1756:0
     =%50%1756:2}
</pre>

<p>Comme l'interface de Moodle ne permet pas les réponses multiples pour les questions numériques, il n'y a aucun moyen de les voir, ni de les modifier autrement qu'en supprimant et en ré-important la question, ou en modifiant directement la base de données (DANGER !).</p>

<h3>Options</h3>

<p>En plus de ces types de questions, les options suivantes sont offertes grâce à ce format : commentaires, nom de question, feedback et coefficients.</p>

<h4>Commentaires</h4>

<p>Les commentaires ne seront pas importés dans Moodle. Il servent à documenter les questions. Toutes les lignes de commentaire commencent par une double barre oblique (sans compter les espaces ou tabulations qui précèdent). Ces lignes seront simplement ignorées lors de l'importation.</p>

<pre>
     // Sous-titre : voici une question numérique
     Combien font 2 + 2 ? {#4}
</pre>

<h4>Nom de question</h4>

<p>Un nom de question peut être indiqué en le plaçant avant la question, entouré par des double deux-points.</p>

<pre>     
     ::Origine des caractères Kanji::De quel pays sont originaires les
     les caractères japonais Kanji ? {=Chine}

     ::Période des Trois Mousquetaires::L'histoire des Trois Mousquetaires
      se déroule au {~quinzième ~seizième =dix-septième} siècle.
</pre>

<p>Si aucun nom de question n'est donné, la question elle-même est utilisée par défaut.</p>

<h4>Feedback</h4>

<p>Un feedback peut être inclus avec chaque réponse. Il suffit de placer le feedback immédiatement après la réponse, séparé par un dièze (#).</p>

<pre>
     Quelle est a réponse à cette question à choix multiples ?{
     ~réponse fausse#Feedback pour la réponse fausse
     ~autre réponse fausse#Autre feedback pour cette réponse fausse
     =bonne réponse#Excellent !}

     Quel est le nom du héros du Comte de Monte-Cristo ?{
     =Dantès#Excellente réponse !
     =Edmond Dantès#Excellente réponse !}

     Étienne Lantier est le héros du Comte de Monte-Cristo.{
     FALSE#Faux, il s'agit de Edmond Dantès.
     #En effet, c'est Edmond Dantès}
</pre>

<p>Pour les questions à choix multiples, le feedback n'est affiché que pour la réponse sélectionnée par l'étudiant. Pour la réponse courte, le feedback est affichée uniquement si l'étudiant a donné la réponse correcte correspondante. Pour les questions Vrai/Faux, il peut y avoir une ou deux chaînes pour le feedback. La première est affichée si la réponse donnée est incorrecte, la deuxième si la réponse est fausse.</p>

<h4>Coefficients (en %)</h4>

<p>Les coefficients sont disponibles pour les questions à choix multiples et pour les questions à réponse courte. Les coefficients peuvent être inclus en faisant suivre le tilde (pour les questions à choix multiples) ou le signe égal (pour les questions à réponse courte) par le pourcentage désiré, entouré de signes pour-cent (par exemple %50%). Cette option peut être combinée avec les feedbacks.</p>

<pre>
     Une question.{
     ~Réponse fausse
     ~%50%Réponse valant la moitié des points
     =Réponse donnant tous les points}

     ::Résidence de Jésus::Jésus Christ résidait à {
     ~Jérusalem#C'était une ville importante, mais de la mauvaise réponse.
     ~%25%Bethléhem#Il y est né, mais n'y a pas grandi.
     ~%50%Galilée#Soyez plus précis.
     =Nazareth#Oui ! C'est cela !}.

     ::Résidence de Jésus:: Jésus Christ résidait à {
     =Nazareth#Oui ! C'est cela !
     =%75%Nazireth#Juste, mais mauvaise orthographe.
     =%25%Bethléhem#Il y est né, mais n'y a pas grandi.}
</pre>

<p>Les deux derniers exemples sont une même question, une première foius comme question à choix multiples, la deuxième sous la forme de question à réponse courte.</p>

<p>Il est possible de spécifier ainsi des coefficients non disponibles dans l'interface graphique (navigateur) de Moodle. De tels coefficients seront calculés correctement d'après les valeurs données dans le fichier importé) et apparaîtront normales aux étudiants faisant le test. Cependant ces coefficients n'apparaîtront pas corrects pour les enseignants lors de l'édition des questions dans Moodle. Si vous éditez de telles questions avec l'interface de Moodle et que vous modifiez le coefficient, celui-ci sera changé.</p>

<h4>Réponses multiples</h4>

<p>L'option réponses multiples est utilisée pour des questions à choix multiples ou deux ou plusieurs réponses doivent être choisies afin d'obtenir tous les points. On active cette option en donnant aux diverses réponses des coefficients, aucune réponse ne donnant le total des points.</p>

<pre>
     Les personnages suivants apparaissent dans les Trois mousquetaires ? {
     ~L'abbé Faria
     ~%50%Constance Bonacieux
     ~%50%L'abbé d'Herblay
     ~Le capitaine Némo}
</pre>

<p>On remarque qu'il n'y a aucun signe égal dans aucune réponse. Le total des coefficients ne doit pas excéder 100%, sans quoi une erreur surviendrait dans Moodle. Pour éviter que les étudiants obtiennent 100% en sélectionnant systématiquement toutes les réponses, il est conseillé d'inclure des coefficients négatifs pour les réponses fausses.</p>

<pre>
     Les personnages suivants apparaissent dans les Trois mousquetaires ? {
     ~%-50%L'abbé Faria
     ~%50%Constance Bonacieux
     ~%50%L'abbé d'Herblay
     ~%-50%Le capitaine Némo}
</pre>

<h4>Autres options</h4>

<p>D'autres options sont disponibles en éditant le filtre d'importation <strong>gift/format.php</strong>.</p>

<p>Les réponses courtes peuvent être rendues sensibles à la casse des caractères en remplaçant « 0 » par « 1 » dans la ligne suivante :</p>

<pre>     $question->usecase = 0;  // Ignore case</pre>

<h3>Des erreurs ?</h3>

<p>L'encodage de votre fichier texte doit être le même que celui de votre installation Moodle.</p>

<p>Un fichier contenant des exemples de questions est à disposition ici : <a href="../../../../mod/quiz/format/gift/examples.txt">gift/examples.txt</a>.</p>

<h3>Remerciements</h3>

<p>Ce filtre d'importation a été écrit en collaboration avec de nombreux membres de la communauté Moodle. Il était basé à l'origine sur le format « mot manquant », qui comportait du code de Martin Dougiamas, Thomas Robb et d'autres personnes. Paul Tsuchido Shew a écrit ce filtre en décembre 2003, y incorporant les suggestions de la communauté, afin d'obtenir un format d'importation robuste. Le nom est un acronyme pour « General Import Format Technology » ou quelque chose comme ça. Comme c'est trop long, c'est juste GIFT !</p>

<p>GIFT documentation by Paul Tsuchido Shew, 13 Jan 2004, traduite par Nicolas Martignoni, 8 février 2004.</p>